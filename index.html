<html style='height:100%'>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polymorph</title>
    <!--External libraries-->
    <script src="3pt/localforage.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-firestore.js"></script>
    <!--<script src="3pt/firebase-app.js"></script>
        <script src="3pt/firebase-firestore.js"></script>-->
    <script src="genui/useful.js"></script>
    <script src="genui/capacitor.js"></script>
    <script src="genui/bind.js"></script>
    <script src="genui/filescreen.js"></script>
    <script src="genui/queryLoader.js"></script>
    <script src="genui/scriptassert.js"></script>
    <script src="genui/eventAPI.js"></script>
    <script src="genui/options.js"></script>
    <script src="genui/topbar.js"></script>
    <script src="genui/swint.js"></script>
    <script src="genui/dialog.js"></script>
    <script src="genui/tutorial.js"></script>
    <script src="genui/filesave.js"></script>
    <script src="rect.js"></script>
    <!--<script src="core.share.js"></script>-->
    <!--<script src="core.serviceWorker.js"></script>-->
    <!--<script src="core.server.save.js"></script>-->
    <script src="templates.js"></script>
    <script src="core.dialog.js"></script>
    <script src="core.tutorial.js"></script>
    <script src="core.js"></script>
    <script src="operator.js"></script>
    <script src="pwa.js"></script>
    <script>
        //ok now the PWA manager
        var pwaManager = new _pwaManager({
            prompt: (e) => {
                document.querySelector(".installPrompt").style.display="block";
                document.querySelector(".installPrompt button").addEventListener("click",()=>{
                    e.prompt();
                    document.querySelector(".installPrompt").style.display="none";
                })
            }
        });
    </script>

    <!-- Put all operators here -->
    <script src="operators/opSelect.js"></script>
    <script src="operators/itemList.js"></script>
    <script src="operators/descbox.js"></script>
    <script src="operators/calendar.js"></script>
    <!--<script src="operators/iframe.js"></script>-->
    <script src="operators/synergist.js"></script>
    <!--<script src="operators/quillbox.js"></script>-->
    <script src="operators/stack.js"></script>
    <script src="operators/terminal.js"></script>
    <!--<script src="operators/timeline.js"></script>-->
    <!--<script src="operators/canvas.js"></script>-->
    <!--<script src="operators/drawio.js"></script>-->
    <!--<script src="operators/goframe.js"></script>-->
    <script src="operators/inspector.js"></script>
    <script src="operators/subframe.js"></script>
    <script src="operators/sorter.js"></script>
    <script src="operators/httree.js"></script>
    <script src="operators/synergist.2.js"></script>

    <!-- save sources here-->
    <script src="saveSources/outputToText.js"></script>
    <script src="saveSources/localforage2.js"></script>
    <script src="saveSources/firebase.js"></script>
    <script src="saveSources/server.js"></script>
    <script src="saveSources/gdrive.js"></script>


    <style>
        h1 {
            margin: 0;
        }
    </style>
    <link href="assets/jason.css" rel="stylesheet" type="text/css">
    </link>
</head>

<body style="display:flex; height:100%; flex-direction:column; margin:0; position:relative">
    <div class="banner">
        <h1 class="docName" contentEditable>Pad name</h1>
        <div class="installPrompt" style="right: 0;position: absolute;top: 0;display:none"><button>Install our desktop app! It's free!</button></div>
        <!--<button class="sharer" style="background:blueviolet; border-radius:3px; border:none; padding:3px; color:white; position:absolute; top: 10px; right: 10px;">Share</button>-->
        <ul class="topbar">
            <li>File
                <ul>
                    <li class="saveSources">Load/Save...</li> <!-- default is always localforage for now -->
                    <li class="new">New</li>
                </ul>
            </li>
            <li class="viewdialog">Views</li>
            <li class="hlep">Help</li>
        </ul>
    </div>
    <div class="rectspace" style="width:100%; flex:1 0 auto;position:relative">

    </div>
    <div class="wall"
        style="position:absolute; width:100%; height:100%; top:0; left: 0; background: rgba(0,0,0,0.5); display: block">
        <div style="height:100%; display:flex; justify-content: center; flex-direction: column">
            <h1 style="color:white; text-align:center">Hold on, we're loading your data...</h1>
        </div>

    </div>
</body>

</html>